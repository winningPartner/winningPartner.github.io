(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[4],{275:function(e,t,a){},283:function(e,t,a){"use strict";a.r(t);var n=a(14),r=a(18),o=a(0),s=a.n(o),c=a(84),i=a(20),l=a(257),u=(a(83),a(269)),m=a.n(u),p=a(85),d=a(262),f=a(57),b=a.n(f),h=a(62),g={searchContainer:{display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"center"},searchTitle:{marginRight:"10px"}},v=function(e){var t=e.searchQuery;return s.a.createElement("div",{style:g.searchContainer},s.a.createElement("span",{style:g.searchTitle},"Search:"),s.a.createElement("input",{type:"text",name:"search",onChange:function(e){return t(e.target.value)}}))},y=a(260),E=function(e){var t=e.onExport;return s.a.createElement("div",null,s.a.createElement(y.a,{size:"medium",variant:"contained",type:"submit",color:"primary",onClick:function(e){return t(e.target.value)}},"Export"))},j=(a(275),[{name:"Dynamic variable",selector:"dynamic_variable",sortable:!0,grow:4,style:{fontSize:"14px"}},{name:"Casinos",selector:"brand",sortable:!0,grow:2,style:{fontSize:"14px"}},{name:"Clicks",selector:"clicks",sortable:!0},{name:"Registrations",selector:"registrations",sortable:!0},{name:"FTDS",selector:"ftds",sortable:!0},{name:"Deposits",selector:"deposits",sortable:!0},{name:"Net Cash",selector:"net_cash",sortable:!0},{name:"Commission",selector:"commission",sortable:!0},{name:"No of deposits",selector:"no_of_deposits",sortable:!0}]),O={header:{style:{fontSize:"24px",fontWeight:"800"}},headCells:{style:{fontSize:"14px",textAlign:"center"}}};t.default=function(){var e=Object(o.useState)({reports:[]}),t=Object(r.a)(e,2),a=t[0],u=t[1],f=Object(o.useState)(""),g=Object(r.a)(f,2),y=g[0],C=g[1],S=Object(o.useState)(!0),x=Object(r.a)(S,2),_=x[0],w=x[1],D=Object(o.useState)(0),k=Object(r.a)(D,2),z=k[0],T=k[1],N=Object(i.c)((function(e){return e.brands})),P=Object(i.c)((function(e){return e.auth.currentUser.token})),R=Object(i.c)((function(e){return e.dates})),Y=a.reports,M=Object(o.useMemo)((function(){return s.a.createElement(E,{onExport:function(){return h.a.downloadCSV(Y)}})}),[Y]),F="";0!==N.brands.length&&N.brands.map((function(e){return F+="&brand_ids[]=".concat(e)}));var J=b()(new Date).format("YYYY-MM-DD"),Q="date_from=".concat(J,"&date_to=").concat(J);0!==R.dates.start&&0!==R.dates.end&&(Q="date_from=".concat(R.dates.start,"&date_to=").concat(R.dates.end));var A=Object(o.useCallback)((function(e,t){w(!0);var a=t?"&search=".concat(t):"",r={sort:F,date:Q,token:P,search:a,page:e};h.b.fetchDataFromServer(Object(n.a)({type:"dynamic_variables"},r)).then((function(e){var t=e.data,a=t.reports,n=t.total_count;u({reports:a}),T(n),setTimeout((function(){w(!1)}),500)})).catch((function(){u({reports:{error:!0}})}))}),[Q,F,P]);return Object(o.useEffect)((function(){A(1,y)}),[A,y]),s.a.createElement(l.a,null,s.a.createElement(d.a,{timeout:3e3,classNames:"fade"},s.a.createElement(c.a,{title:"Reports"})),s.a.createElement("div",{className:"data__wrapper"},s.a.createElement(v,{searchQuery:function(e){C(e)}}),s.a.createElement(m.a,{title:"Dynamic variables",columns:j,data:Y,progressPending:_,customStyles:O,pagination:!0,paginationServer:!0,paginationPerPage:20,paginationTotalRows:z,onChangePage:function(e){A(e,y)},progressComponent:s.a.createElement(p.a,null),actions:M})))}}}]);
//# sourceMappingURL=4.3cc4dd48.chunk.js.map