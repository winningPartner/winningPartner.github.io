(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[5],{267:function(e,t,a){"use strict";var n=a(0),r=a.n(n),s=function(e){var t=e.title,a=e.classes;return r.a.createElement("h1",{className:a},t)};s.defaultProps={title:"Simple title",classes:"page__title"},t.a=s},274:function(e,t,a){},284:function(e,t,a){"use strict";a.r(t);var n=a(15),r=a(19),s=a(0),o=a.n(s),c=a(267),i=a(23),l=a(255),u=(a(82),a(268)),m=a.n(u),p=a(84),f=a(260),d=a(57),b=a.n(d),h=a(83),g={searchContainer:{display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"center"},searchTitle:{marginRight:"10px"}},v=function(e){var t=e.searchQuery;return o.a.createElement("div",{style:g.searchContainer},o.a.createElement("span",{style:g.searchTitle},"Search:"),o.a.createElement("input",{type:"text",name:"search",onChange:function(e){return t(e.target.value)}}))},y=a(258),E=function(e){var t=e.onExport;return o.a.createElement("div",null,o.a.createElement(y.a,{size:"medium",variant:"contained",type:"submit",color:"primary",onClick:function(e){return t(e.target.value)}},"Export"))},j=(a(274),[{name:"Dynamic variable",selector:"dynamic_variable",sortable:!0,grow:4,style:{fontSize:"14px"}},{name:"Casinos",selector:"brand",sortable:!0,grow:2,style:{fontSize:"14px"}},{name:"Clicks",selector:"clicks",sortable:!0},{name:"Registrations",selector:"registrations",sortable:!0},{name:"FTDS",selector:"ftds",sortable:!0},{name:"Deposits",selector:"deposits",sortable:!0},{name:"Net Cash",selector:"net_cash",sortable:!0},{name:"Commission",selector:"commission",sortable:!0},{name:"No of deposits",selector:"no_of_deposits",sortable:!0}]),O={header:{style:{fontSize:"24px",fontWeight:"800"}},headCells:{style:{fontSize:"14px",textAlign:"center"}}};t.default=function(){var e=Object(s.useState)({reports:[]}),t=Object(r.a)(e,2),a=t[0],u=t[1],d=Object(s.useState)(""),g=Object(r.a)(d,2),y=g[0],S=g[1],_=Object(s.useState)(!0),C=Object(r.a)(_,2),x=C[0],w=C[1],D=Object(s.useState)(0),k=Object(r.a)(D,2),z=k[0],N=k[1],P=Object(i.c)((function(e){return e.brands})),T=Object(i.c)((function(e){return e.auth.currentUser.token})),R=Object(i.c)((function(e){return e.dates})),Y=a.reports,M=Object(s.useMemo)((function(){return o.a.createElement(E,{onExport:function(){return h.a.downloadCSV(Y)}})}),[Y]),F="";0!==P.brands.length&&P.brands.map((function(e){return F+="&brand_ids[]=".concat(e)}));var J=b()(new Date).format("YYYY-MM-DD"),Q="date_from=".concat(J,"&date_to=").concat(J);0!==R.dates.start&&0!==R.dates.end&&(Q="date_from=".concat(R.dates.start,"&date_to=").concat(R.dates.end));var A=Object(s.useCallback)((function(e,t){w(!0);var a=t?"&search=".concat(t):"",r={sort:F,date:Q,token:T,search:a,page:e};h.b.fetchDataFromServer(Object(n.a)({type:"dynamic_variables"},r)).then((function(e){var t=e.data,a=t.reports,n=t.total_count;u({reports:a}),N(n),setTimeout((function(){w(!1)}),500)})).catch((function(){u({reports:{error:!0}})}))}),[Q,F,T]);return Object(s.useEffect)((function(){A(1,y)}),[A,y]),o.a.createElement(l.a,null,o.a.createElement(f.a,{timeout:3e3,classNames:"fade"},o.a.createElement(c.a,{title:"Reports"})),o.a.createElement("div",{className:"data__wrapper"},o.a.createElement(v,{searchQuery:function(e){S(e)}}),o.a.createElement(m.a,{title:"Dynamic variables",columns:j,data:Y,progressPending:x,customStyles:O,pagination:!0,paginationServer:!0,paginationPerPage:20,paginationTotalRows:z,onChangePage:function(e){A(e,y)},progressComponent:o.a.createElement(p.a,null),actions:M})))}}}]);
//# sourceMappingURL=5.12654174.chunk.js.map