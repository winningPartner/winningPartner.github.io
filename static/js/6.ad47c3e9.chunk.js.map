{"version":3,"sources":["components/Title/Title.jsx","components/StatsCard/StatsCard.jsx","components/Dashboard/Dashboard.jsx","pages/Overview/Overview.jsx"],"names":["Title","title","classes","className","defaultProps","StatsCard","symbol","value","Dashboard","stats","clicks","registrations","ftd","commission","deposits","net_cash","customStyles","header","style","fontSize","fontWeight","headCells","dataCasino","name","selector","sortable","grow","dataDeal","Overview","useState","casinos","setVariables","deals","setDeals","casino","deal","loading","setLoading","totalRows","setTotalRows","brandsList","useSelector","store","brands","dates","token","auth","currentUser","sortVariable","length","map","brand","today","moment","Date","format","dateVariable","start","end","fetchCasinos","useCallback","page","params","sort","date","fetchAPI","fetchDataFromServer","type","then","data","reports","totals","total_count","setTimeout","catch","error","fetchDeals","useEffect","Row","CSSTransition","in","timeout","classNames","columns","progressPending","pagination","paginationServer","paginationPerPage","paginationTotalRows","onChangePage","progressComponent","Circular"],"mappings":"4FAAA,oBAGMA,EAAQ,SAAC,GAAwB,IAAtBC,EAAqB,EAArBA,MAAOC,EAAc,EAAdA,QACtB,OAAO,wBAAIC,UAAWD,GAAUD,IAQlCD,EAAMI,aAAe,CACnBH,MAAO,eACPC,QAAS,eAGIF,O,kGCdFK,EAAY,SAAC,GAA8B,IAA5BJ,EAA2B,EAA3BA,MAAOK,EAAoB,EAApBA,OAAQC,EAAY,EAAZA,MACzC,OACE,yBAAKJ,UAAU,mBACb,yBAAKA,UAAU,SAASF,GACxB,yBAAKE,UAAU,WACb,uBAAGA,UAAU,YACX,0BAAMA,UAAU,UAAUG,GACzBC,MAaXF,EAAUD,aAAe,CACvBH,MAAO,cACPK,OAAQ,GACRC,MAAO,GCvBF,IAAMC,EAAY,SAAC,GAAe,IAAbC,EAAY,EAAZA,MAC1B,OACE,yBAAKN,UAAU,aACb,kBAAC,EAAD,CAAWF,MAAO,SAAUM,MAAOE,EAAMC,SACzC,kBAAC,EAAD,CAAWT,MAAO,gBAAiBM,MAAOE,EAAME,gBAChD,kBAAC,EAAD,CAAWV,MAAO,MAAOM,MAAOE,EAAMG,MACtC,kBAAC,EAAD,CAAWX,MAAO,aAAcM,MAAOE,EAAMI,WAAYP,OAAQ,SACjE,kBAAC,EAAD,CAAWL,MAAO,WAAYM,MAAOE,EAAMK,SAAUR,OAAQ,SAC7D,kBAAC,EAAD,CAAWL,MAAO,WAAYK,OAAQ,OAAKC,MAAOE,EAAMM,a,8FCExDC,G,OAAe,CACnBC,OAAQ,CACNC,MAAO,CACLC,SAAU,OACVC,WAAY,QAGhBC,UAAW,CACTH,MAAO,CACLC,SAAU,WAKVG,EAAa,CACjB,CACEC,KAAM,QACNC,SAAU,QACVC,UAAU,EACVC,KAAM,EACNR,MAAO,CACLC,SAAU,OACVC,WAAY,MAGhB,CACEG,KAAM,aACNC,SAAU,aACVC,UAAU,GAEZ,CACEF,KAAM,WACNC,SAAU,WACVC,UAAU,GAEZ,CACEF,KAAM,WACNC,SAAU,WACVC,UAAU,GAEZ,CACEF,KAAM,SACNC,SAAU,SACVC,UAAU,GAEZ,CACEF,KAAM,OACNC,SAAU,OACVC,UAAU,GAEZ,CACEF,KAAM,gBACNC,SAAU,gBACVC,UAAU,GAEZ,CACEF,KAAM,iBACNC,SAAU,iBACVC,UAAU,IAIRE,EAAW,CACf,CACEJ,KAAM,OACNC,SAAU,OACVC,UAAU,EACVC,KAAM,EACNR,MAAO,CACLC,SAAU,OACVC,WAAY,MAGhB,CACEG,KAAM,aACNC,SAAU,aACVC,UAAU,GAEZ,CACEF,KAAM,WACNC,SAAU,WACVC,UAAU,GAEZ,CACEF,KAAM,WACNC,SAAU,WACVC,UAAU,GAEZ,CACEF,KAAM,SACNC,SAAU,SACVC,UAAU,GAEZ,CACEF,KAAM,OACNC,SAAU,OACVC,UAAU,GAEZ,CACEF,KAAM,gBACNC,SAAU,gBACVC,UAAU,GAEZ,CACEF,KAAM,iBACNC,SAAU,iBACVC,UAAU,IA+JCG,UA3JE,WAAO,IAAD,EACWC,mBAAS,CACvCC,QAAS,GACTrB,MAAO,KAHY,mBACdqB,EADc,KACLC,EADK,OAKKF,mBAAS,CACjCG,MAAO,KANY,mBAKdA,EALc,KAKPC,EALO,OAQSJ,mBAAS,CACrCK,QAAQ,EACRC,MAAM,IAVa,mBAQdC,EARc,KAQLC,EARK,OAYaR,mBAAS,CACzCK,OAAQ,EACRC,KAAM,IAda,mBAYdG,EAZc,KAYHC,EAZG,KAgBfC,EAAaC,aAAY,SAACC,GAAD,OAAWA,EAAMC,UAC1CC,EAAQH,aAAY,SAACC,GAAD,OAAWA,EAAME,SACrCC,EAAQJ,aAAY,SAACC,GAAD,OAAWA,EAAMI,KAAKC,YAAYF,SAExDG,EAAe,GACc,IAA7BR,EAAWG,OAAOM,QACpBT,EAAWG,OAAOO,KAAI,SAACC,GACrB,OAAQH,GAAY,uBAAoBG,MAI5C,IAAMC,EAAQC,IAAO,IAAIC,MAAQC,OAAO,cACpCC,EAAY,oBAAgBJ,EAAhB,oBAAiCA,GACvB,IAAtBR,EAAMA,MAAMa,OAAmC,IAApBb,EAAMA,MAAMc,MACzCF,EAAY,oBAAgBZ,EAAMA,MAAMa,MAA5B,oBAA6Cb,EAAMA,MAAMc,MAGvE,IAAMC,EAAeC,uBACnB,SAACC,GACCxB,EAAW,CAAEH,QAAQ,IACrB,IAAM4B,EAAS,CACbC,KAAMf,EACNgB,KAAMR,EACNX,MAAOA,EACPgB,KAAMA,GAERI,IACGC,oBADH,aAEIC,KAAM,WACHL,IAEJM,MAAK,YAAiD,IAAD,IAA7CC,KAAQC,EAAqC,EAArCA,QAASC,EAA4B,EAA5BA,OAAQC,EAAoB,EAApBA,YAChCzC,EAAa,CACXD,QAASwC,EACT7D,MAAO8D,IAEThC,EAAa,CAAEL,OAAQsC,IACvBC,YAAW,WACTpC,EAAW,CAAEH,QAAQ,MACpB,QAEJwC,OAAM,WACL3C,EAAa,CACXD,QAAS,CACP6C,OAAO,UAKjB,CAAC3B,EAAcQ,EAAcX,IAGzB+B,EAAahB,uBACjB,SAACC,GACCxB,EAAW,CAAEF,MAAM,IACnB,IAAM2B,EAAS,CACbC,KAAMf,EACNgB,KAAMR,EACNX,MAAOA,EACPgB,KAAMA,GAERI,IACGC,oBADH,aAEIC,KAAM,SACHL,IAEJM,MAAK,YAAyC,IAAD,IAArCC,KAAQC,EAA6B,EAA7BA,QAASE,EAAoB,EAApBA,YACxBvC,EAAS,CACPD,MAAOsC,IAET/B,EAAa,CAAEJ,KAAMqC,IACrBC,YAAW,WACTpC,EAAW,CAAEF,MAAM,MAClB,QAEJuC,OAAM,WACL3C,EAAa,CACXD,QAAS,CACP6C,OAAO,UAKjB,CAAC3B,EAAcQ,EAAcX,IAG/BgC,qBAAU,WACRlB,EAAa,GACbiB,EAAW,KACV,CAAChC,EAAOJ,EAAYmB,EAAciB,IAUrC,OACE,kBAACE,EAAA,EAAD,KACE,kBAAC9E,EAAA,EAAD,CAAOC,MAAM,aACb,kBAAC8E,EAAA,EAAD,CAAeC,IAAI,EAAMC,QAAS,IAAMC,WAAW,QACjD,kBAAC,EAAD,CAAWzE,MAAOqB,EAAQrB,SAE5B,yBAAKN,UAAU,iBACb,kBAAC,IAAD,CACEF,MAAM,UACNkF,QAAS7D,EACT+C,KAAMvC,EAAQA,QACdsD,gBAAiBhD,EAAQF,OACzBlB,aAAcA,EACdqE,YAAU,EACVC,kBAAgB,EAChBC,kBAAmB,GACnBC,oBAAqBlD,EAAUJ,OAC/BuD,aAzBuB,SAAC5B,GAC9BF,EAAaE,IAyBP6B,kBAAmB,kBAACC,EAAA,EAAD,SAGvB,yBAAKxF,UAAU,iBACb,kBAAC,IAAD,CACEF,MAAM,QACNkF,QAASxD,EACT0C,KAAMrC,EAAMA,MACZoD,gBAAiBhD,EAAQD,KACzBnB,aAAcA,EACdqE,YAAU,EACVC,kBAAgB,EAChBC,kBAAmB,GACnBC,oBAAqBlD,EAAUH,KAC/BsD,aApCqB,SAAC5B,GAC5Be,EAAWf,IAoCL6B,kBAAmB,kBAACC,EAAA,EAAD","file":"static/js/6.ad47c3e9.chunk.js","sourcesContent":["import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst Title = ({ title, classes }) => {\r\n  return <h1 className={classes}>{title}</h1>;\r\n};\r\n\r\nTitle.propTypes = {\r\n  title: PropTypes.string,\r\n  classes: PropTypes.string,\r\n};\r\n\r\nTitle.defaultProps = {\r\n  title: \"Simple title\",\r\n  classes: \"page__title\",\r\n};\r\n\r\nexport default Title;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport const StatsCard = ({ title, symbol, value }) => {\r\n  return (\r\n    <div className=\"card card-stats\">\r\n      <div className=\"title\">{title}</div>\r\n      <div className=\"content\">\r\n        <p className=\"cardStat\">\r\n          <span className=\"symbol\">{symbol}</span>\r\n          {value}\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nStatsCard.propTypes = {\r\n  title: PropTypes.string,\r\n  symbol: PropTypes.string,\r\n  value: PropTypes.number,\r\n};\r\n\r\nStatsCard.defaultProps = {\r\n  title: \"Empty field\",\r\n  symbol: \"\",\r\n  value: 0,\r\n};\r\n","import React from \"react\";\r\nimport { StatsCard } from \"../StatsCard/StatsCard\";\r\n\r\nexport const Dashboard = ({ stats }) => {\r\n  return (\r\n    <div className=\"dashboard\">\r\n      <StatsCard title={\"Clicks\"} value={stats.clicks} />\r\n      <StatsCard title={\"Registrations\"} value={stats.registrations} />\r\n      <StatsCard title={\"FTD\"} value={stats.ftd} />\r\n      <StatsCard title={\"Commission\"} value={stats.commission} symbol={\"£\"} />\r\n      <StatsCard title={\"Deposits\"} value={stats.deposits} symbol={\"£\"} />\r\n      <StatsCard title={\"Net Cash\"} symbol={\"£\"} value={stats.net_cash} />\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport { Dashboard } from \"../../components/Dashboard/Dashboard\";\r\nimport { useSelector } from \"react-redux\";\r\nimport Title from \"../../components/Title/Title\";\r\nimport { Row } from \"react-bootstrap\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport DataTable from \"react-data-table-component\";\r\nimport { Circular } from \"../../components/Circular/Circular\";\r\nimport { CSSTransition } from \"react-transition-group\";\r\nimport { fetchAPI } from \"../../api\";\r\nimport moment from \"moment\";\r\nimport \"./Overview.css\";\r\n\r\nconst customStyles = {\r\n  header: {\r\n    style: {\r\n      fontSize: \"24px\",\r\n      fontWeight: \"800\",\r\n    },\r\n  },\r\n  headCells: {\r\n    style: {\r\n      fontSize: \"16px\",\r\n    },\r\n  },\r\n};\r\n\r\nconst dataCasino = [\r\n  {\r\n    name: \"Brand\",\r\n    selector: \"brand\",\r\n    sortable: true,\r\n    grow: 3,\r\n    style: {\r\n      fontSize: \"16px\",\r\n      fontWeight: 600,\r\n    },\r\n  },\r\n  {\r\n    name: \"Commission\",\r\n    selector: \"commission\",\r\n    sortable: true,\r\n  },\r\n  {\r\n    name: \"Net Cash\",\r\n    selector: \"net_cash\",\r\n    sortable: true,\r\n  },\r\n  {\r\n    name: \"Deposits\",\r\n    selector: \"deposits\",\r\n    sortable: true,\r\n  },\r\n  {\r\n    name: \"Clicks\",\r\n    selector: \"clicks\",\r\n    sortable: true,\r\n  },\r\n  {\r\n    name: \"FTDS\",\r\n    selector: \"ftds\",\r\n    sortable: true,\r\n  },\r\n  {\r\n    name: \"Registrations\",\r\n    selector: \"registrations\",\r\n    sortable: true,\r\n  },\r\n  {\r\n    name: \"No of deposits\",\r\n    selector: \"no_of_deposits\",\r\n    sortable: true,\r\n  },\r\n];\r\n\r\nconst dataDeal = [\r\n  {\r\n    name: \"Deal\",\r\n    selector: \"deal\",\r\n    sortable: true,\r\n    grow: 3,\r\n    style: {\r\n      fontSize: \"16px\",\r\n      fontWeight: 600,\r\n    },\r\n  },\r\n  {\r\n    name: \"Commission\",\r\n    selector: \"commission\",\r\n    sortable: true,\r\n  },\r\n  {\r\n    name: \"Net Cash\",\r\n    selector: \"net_cash\",\r\n    sortable: true,\r\n  },\r\n  {\r\n    name: \"Deposits\",\r\n    selector: \"deposits\",\r\n    sortable: true,\r\n  },\r\n  {\r\n    name: \"Clicks\",\r\n    selector: \"clicks\",\r\n    sortable: true,\r\n  },\r\n  {\r\n    name: \"FTDS\",\r\n    selector: \"ftds\",\r\n    sortable: true,\r\n  },\r\n  {\r\n    name: \"Registrations\",\r\n    selector: \"registrations\",\r\n    sortable: true,\r\n  },\r\n  {\r\n    name: \"No of deposits\",\r\n    selector: \"no_of_deposits\",\r\n    sortable: true,\r\n  },\r\n];\r\n\r\nconst Overview = () => {\r\n  const [casinos, setVariables] = useState({\r\n    casinos: [],\r\n    stats: [],\r\n  });\r\n  const [deals, setDeals] = useState({\r\n    deals: [],\r\n  });\r\n  const [loading, setLoading] = useState({\r\n    casino: false,\r\n    deal: false,\r\n  });\r\n  const [totalRows, setTotalRows] = useState({\r\n    casino: 0,\r\n    deal: 0,\r\n  });\r\n  const brandsList = useSelector((store) => store.brands);\r\n  const dates = useSelector((store) => store.dates);\r\n  const token = useSelector((store) => store.auth.currentUser.token);\r\n\r\n  let sortVariable = \"\";\r\n  if (brandsList.brands.length !== 0) {\r\n    brandsList.brands.map((brand) => {\r\n      return (sortVariable += `&brand_ids[]=${brand}`);\r\n    });\r\n  }\r\n\r\n  const today = moment(new Date()).format(\"YYYY-MM-DD\");\r\n  let dateVariable = `date_from=${today}&date_to=${today}`;\r\n  if (dates.dates.start !== 0 && dates.dates.end !== 0) {\r\n    dateVariable = `date_from=${dates.dates.start}&date_to=${dates.dates.end}`;\r\n  }\r\n\r\n  const fetchCasinos = useCallback(\r\n    (page) => {\r\n      setLoading({ casino: true });\r\n      const params = {\r\n        sort: sortVariable,\r\n        date: dateVariable,\r\n        token: token,\r\n        page: page,\r\n      };\r\n      fetchAPI\r\n        .fetchDataFromServer({\r\n          type: \"casinos\",\r\n          ...params,\r\n        })\r\n        .then(({ data: { reports, totals, total_count } }) => {\r\n          setVariables({\r\n            casinos: reports,\r\n            stats: totals,\r\n          });\r\n          setTotalRows({ casino: total_count });\r\n          setTimeout(() => {\r\n            setLoading({ casino: false });\r\n          }, 1000);\r\n        })\r\n        .catch(() => {\r\n          setVariables({\r\n            casinos: {\r\n              error: true,\r\n            },\r\n          });\r\n        });\r\n    },\r\n    [sortVariable, dateVariable, token]\r\n  );\r\n\r\n  const fetchDeals = useCallback(\r\n    (page) => {\r\n      setLoading({ deal: true });\r\n      const params = {\r\n        sort: sortVariable,\r\n        date: dateVariable,\r\n        token: token,\r\n        page: page,\r\n      };\r\n      fetchAPI\r\n        .fetchDataFromServer({\r\n          type: \"deals\",\r\n          ...params,\r\n        })\r\n        .then(({ data: { reports, total_count } }) => {\r\n          setDeals({\r\n            deals: reports,\r\n          });\r\n          setTotalRows({ deal: total_count });\r\n          setTimeout(() => {\r\n            setLoading({ deal: false });\r\n          }, 1000);\r\n        })\r\n        .catch(() => {\r\n          setVariables({\r\n            casinos: {\r\n              error: true,\r\n            },\r\n          });\r\n        });\r\n    },\r\n    [sortVariable, dateVariable, token]\r\n  );\r\n\r\n  useEffect(() => {\r\n    fetchCasinos(1);\r\n    fetchDeals(1);\r\n  }, [dates, brandsList, fetchCasinos, fetchDeals]);\r\n\r\n  const handlePageCasinoChange = (page) => {\r\n    fetchCasinos(page);\r\n  };\r\n\r\n  const handlePageDealChange = (page) => {\r\n    fetchDeals(page);\r\n  };\r\n\r\n  return (\r\n    <Row>\r\n      <Title title=\"Overview\" />\r\n      <CSSTransition in={true} timeout={1000} classNames=\"fade\">\r\n        <Dashboard stats={casinos.stats} />\r\n      </CSSTransition>\r\n      <div className=\"data__wrapper\">\r\n        <DataTable\r\n          title=\"Casinos\"\r\n          columns={dataCasino}\r\n          data={casinos.casinos}\r\n          progressPending={loading.casino}\r\n          customStyles={customStyles}\r\n          pagination\r\n          paginationServer\r\n          paginationPerPage={20}\r\n          paginationTotalRows={totalRows.casino}\r\n          onChangePage={handlePageCasinoChange}\r\n          progressComponent={<Circular />}\r\n        />\r\n      </div>\r\n      <div className=\"data__wrapper\">\r\n        <DataTable\r\n          title=\"Deals\"\r\n          columns={dataDeal}\r\n          data={deals.deals}\r\n          progressPending={loading.deal}\r\n          customStyles={customStyles}\r\n          pagination\r\n          paginationServer\r\n          paginationPerPage={20}\r\n          paginationTotalRows={totalRows.deal}\r\n          onChangePage={handlePageDealChange}\r\n          progressComponent={<Circular />}\r\n        />\r\n      </div>\r\n    </Row>\r\n  );\r\n};\r\n\r\nexport default Overview;\r\n"],"sourceRoot":""}